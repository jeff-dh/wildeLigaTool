{% from "wklb/modalBase.jinja" import modal, endmodal %}

{% macro teamInfoLink(team, current_user) -%}
    {% if current_user.is_authenticated %}
        <a href="#"
        class="link-primary"
        data-bs-toggle="modal"
        data-bs-target="#teamInfo{{team.id}}">
            <b>{{ team.name }}</b>
        </a>
    {% else %}
        <span class="text-primary">
            <b>{{ team.name }}</b>
        </span>
    {% endif %}
{%- endmacro %}

{% macro teamInfo(team, current_user) -%}
    {% if current_user.is_authenticated %}
        {{modal("teamInfo" + team.id.__repr__(), team.name)}}
            {{ team.user.email }}
            <br/><br/>
            {% for line in team.info.split("\n") %}
                {{ line }}
                {% if not loop.last %}
                    <br>
                {% endif %}
            {% endfor %}
            <br/>
            <button type="button"
                    class="btn btn-secondary btn-sm"
                    data-bs-dismiss="modal">Schlie√üen</button>
        {{ endmodal() }}
    {% endif %}
{%- endmacro %}

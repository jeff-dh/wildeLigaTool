{% from "utils.jinja" import modal, endmodal, show_modal %}

{% macro teamInfoLink(team, current_user) -%}
    {% if current_user.is_authenticated %}
        <a href="#"
        class="link-primary"
        data-bs-toggle="modal"
        data-bs-target="#teamInfo{{team.id}}">
            <b>{{ team.name }}</b>
        </a>
    {% else %}
        <span class="text-primary">
            <b>{{ team.name }}</b>
        </span>
    {% endif %}
{%- endmacro %}

{% macro teamInfo(team, current_user) -%}
    {% if current_user.is_authenticated %}
        {{modal("teamInfo" + team.id.__repr__(), team.name)}}
                <span class="text-secondary">{{ team.user.email }}</span>
            <div class="text-start">
                <br/>
                {% for line in team.info.split("\n") %}
                    {{ line }}
                    {% if not loop.last %}
                        <br>
                    {% endif %}
                {% endfor %}
            </div>
            <br/>
            <button type="button"
                    class="btn btn-secondary btn-sm"
                    data-bs-dismiss="modal">Schlie√üen</button>
        {{ endmodal() }}
    {% endif %}
{%- endmacro %}
